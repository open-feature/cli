// Code generated by OpenFeature cli. DO NOT EDIT.
// cli version: dev

// Package testpackage contains generated code produced by the OpenFeature cli.
package testpackage

import (
	"context"
	"fmt"

	"github.com/open-feature/go-sdk/openfeature"
)

// stringer transforms a string to a Stringer
type stringer string

// String implements the fmt.Stringer interface
func (s stringer) String() string {
	return string(s)
}

type (
	evaluationValue[T any]   func(context.Context, openfeature.EvaluationContext) (T, error)
	evaluationDetails[T any] func(context.Context, openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[T], error)
)

var client openfeature.IClient = nil

// DiscountPercentage - Discount percentage applied to purchases.
var DiscountPercentage = struct {
	fmt.Stringer
	// Value returns the value of the flag DiscountPercentage,
	// as well as the evaluation error, if present.
	Value evaluationValue[float64]

	// ValueWithDetails returns the value of the flag DiscountPercentage,
	// the evaluation error, if any, and the evaluation details.
	ValueWithDetails evaluationDetails[float64]
}{
	Stringer: stringer("discountPercentage"),
	Value: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (float64, error) {
		return client.FloatValue(ctx, "discountPercentage", 0.15, evalCtx)
	},
	ValueWithDetails: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[float64], error) {
		return client.FloatValueDetails(ctx, "discountPercentage", 0.15, evalCtx)
	},
}

// EnableFeatureA - Controls whether Feature A is enabled.
var EnableFeatureA = struct {
	fmt.Stringer
	// Value returns the value of the flag EnableFeatureA,
	// as well as the evaluation error, if present.
	Value evaluationValue[bool]

	// ValueWithDetails returns the value of the flag EnableFeatureA,
	// the evaluation error, if any, and the evaluation details.
	ValueWithDetails evaluationDetails[bool]
}{
	Stringer: stringer("enableFeatureA"),
	Value: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (bool, error) {
		return client.BooleanValue(ctx, "enableFeatureA", false, evalCtx)
	},
	ValueWithDetails: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[bool], error) {
		return client.BooleanValueDetails(ctx, "enableFeatureA", false, evalCtx)
	},
}

// GreetingMessage - The message to use for greeting users.
var GreetingMessage = struct {
	fmt.Stringer
	// Value returns the value of the flag GreetingMessage,
	// as well as the evaluation error, if present.
	Value evaluationValue[string]

	// ValueWithDetails returns the value of the flag GreetingMessage,
	// the evaluation error, if any, and the evaluation details.
	ValueWithDetails evaluationDetails[string]
}{
	Stringer: stringer("greetingMessage"),
	Value: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (string, error) {
		return client.StringValue(ctx, "greetingMessage", "Hello there!", evalCtx)
	},
	ValueWithDetails: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[string], error) {
		return client.StringValueDetails(ctx, "greetingMessage", "Hello there!", evalCtx)
	},
}

// ThemeCustomization - Allows customization of theme colors.
var ThemeCustomization = struct {
	fmt.Stringer
	// Value returns the value of the flag ThemeCustomization,
	// as well as the evaluation error, if present.
	Value evaluationValue[any]

	// ValueWithDetails returns the value of the flag ThemeCustomization,
	// the evaluation error, if any, and the evaluation details.
	ValueWithDetails evaluationDetails[any]
}{
	Stringer: stringer("themeCustomization"),
	Value: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (any, error) {
		return client.ObjectValue(ctx, "themeCustomization", map[string]any{"primaryColor": "#007bff", "secondaryColor": "#6c757d"}, evalCtx)
	},
	ValueWithDetails: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[any], error) {
		return client.ObjectValueDetails(ctx, "themeCustomization", map[string]any{"primaryColor": "#007bff", "secondaryColor": "#6c757d"}, evalCtx)
	},
}

// UsernameMaxLength - Maximum allowed length for usernames.
var UsernameMaxLength = struct {
	fmt.Stringer
	// Value returns the value of the flag UsernameMaxLength,
	// as well as the evaluation error, if present.
	Value evaluationValue[int64]

	// ValueWithDetails returns the value of the flag UsernameMaxLength,
	// the evaluation error, if any, and the evaluation details.
	ValueWithDetails evaluationDetails[int64]
}{
	Stringer: stringer("usernameMaxLength"),
	Value: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (int64, error) {
		return client.IntValue(ctx, "usernameMaxLength", 50, evalCtx)
	},
	ValueWithDetails: func(ctx context.Context, evalCtx openfeature.EvaluationContext) (openfeature.GenericEvaluationDetails[int64], error) {
		return client.IntValueDetails(ctx, "usernameMaxLength", 50, evalCtx)
	},
}

func init() {
	client = openfeature.NewDefaultClient()
}
